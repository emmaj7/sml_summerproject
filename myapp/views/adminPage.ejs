<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <script src="../node_modules/socket.io-client/dist/socket.io.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="../assets/style.css" type="text/css">
    <title>Admin Page</title>
  </head>
  <body>
    <h1 style="text-align: center; margin-top: 30px; color: #ff6d44; font-size: 70px;">ADMIN PAGE</h1>
    <% include partials/runOnCarFunction.ejs %>

    <div class="row my-5">
      <div class="col-6 text-center">
        <p style="color: white;">This button runs the selected code on the rover.</p>
        <a href="#"><button class="cool-btn btn1 btn" type="button" onclick="runOnCar()">Run on Car</button></a>
      </div>
      <div class="col-6 text-center">
        <p style="color: white;">This button clears the code.py file.</p>
        <a href="#"><button class="cool-btn btn1 btn" type="button" onclick="clearCode()">Clear code.py</button></a>
      </div>
    </div>
    <div class="row my-5">
      <div class="col-6 text-center">
        <p style="color: white;">This button clears the code_real.py file.</p>
        <a href="#"><button class="cool-btn btn1 btn" type="button" onclick="clearCodeReal()">Clear code_real.py</button></a>
      </div>
      <div class="col-6 text-center">
        <p style="color: white;">This button shows the available team names.</p>
        <a href="#"><button class="cool-btn btn1 btn" type="button" onclick='checkAvailableId()'>Available names</button></a>
      </div>
    </div>



    <script type="text/javascript">
      var unique_id = 'adminId';
      function clearCode(){
        var socket = io();
        socket.on('connect', function(){
          socket.emit('clearCode', function(){
          });
          socket.on('clearCodeRes', function(msg){
            alert(msg);
          });
        });
      }
      function clearCodeReal(){
        var socket = io();
        socket.on('connect', function(){
          socket.emit('clearCodeReal', function(){
          });
          socket.on('clearCodeRealRes', function(msg){
            alert(msg);
          });
        });
      }
      function checkAvailableId(){
        var socket = io();
        socket.on('connect', function(){
          socket.emit('checkAvailableId', function(){
          });
          socket.on('checkAvailableIdRes', function(msg){
            console.log(msg);
            alert(msg);
            socket.close();
          });
        });
      }
    </script>
  </body>
</html>
